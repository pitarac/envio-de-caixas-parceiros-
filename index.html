<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello World with Google Tag</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0HDG999XHB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-0HDG999XHB');
    </script>

    
</head>
<body>
    <!-- Conteúdo visível da página -->
    <header>
        <h1>Bem-vindo à Página de Teste UTM</h1>
    </header>
    
    <section>
        <p id="nomeVisitante">Aguarde... estamos obtendo o seu nome.</p>
    </section>

    <!-- Scripts no final do corpo -->
    <script>
      function obterParametroUrl(nome) {
        nome = nome.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + nome + "(=([^&#]*)|&|#|$)"),
            resultados = regex.exec(window.location.href);
        if (!resultados) return null;
        if (!resultados[2]) return '';
        return decodeURIComponent(resultados[2].replace(/\+/g, " "));
      }

      var nomeUtm = obterParametroUrl('utm_source');
      if (nomeUtm) {
        document.getElementById('nomeVisitante').innerHTML = 'Bem-vindo, ' + nomeUtm + '!';
      }
    </script>
</body>
</html>

